JGITVER_GRADLE_VERSION=${1:-0.9.2-rc01-dirty}

# find the scripts directory, cd to it and back after the script run
# this will work if it is not symlinked, see for details here:
# https://stackoverflow.com/questions/59895/how-to-get-the-source-directory-of-a-bash-script-from-within-the-script-itself
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" >/dev/null 2>&1 && pwd )"
pushd $DIR
trap "popd" EXIT     

bash build.sh distance-default ${JGITVER_GRADLE_VERSION} 2.0.1-3
bash build.sh distance-depth ${JGITVER_GRADLE_VERSION} 2.0.1-3
bash build.sh distance-first_parent ${JGITVER_GRADLE_VERSION} 2.0.1-1
bash build.sh distance-log ${JGITVER_GRADLE_VERSION} 2.0.1-3
bash build.sh maven-like ${JGITVER_GRADLE_VERSION} 0.0.0-0
bash build.sh merged-branches ${JGITVER_GRADLE_VERSION} 2.0.1-1
bash build.sh policy-latest ${JGITVER_GRADLE_VERSION} 2.0.1-3
bash build.sh policy-max ${JGITVER_GRADLE_VERSION} 2.0.1-3
bash build.sh policy-nearest ${JGITVER_GRADLE_VERSION} 2.0.1-3
bash build.sh tag-regexp ${JGITVER_GRADLE_VERSION} 3.0.0
bash build.sh v1.2-tags-regexp ${JGITVER_GRADLE_VERSION} 1.3.0
bash build.sh version-strategy-normal ${JGITVER_GRADLE_VERSION} 1.0.1-1
bash build.sh version-strategy-tag ${JGITVER_GRADLE_VERSION} 2.0.0

